<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gender Reveal</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
body {
    background: #d7be91;
    font-family: "Pacifico", cursive;
    font-weight: 400;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 88vh;
}

.card {
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    text-align: center;

}

h1 {
    margin-bottom: 15px;
}

.grid {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 10px;
}

.cell {
    position: relative;
    width: 100px;
    height: 100px;
    border-radius: 12px;
    overflow: hidden;
    background: #fff;
    border: 2px solid #ddd;
}

.content {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    font-weight: bold;
    color: #ff5fa2; /* rose â†’ fille */
}

.instruction{
    text-align: left;
}

canvas {
    position: absolute;
    inset: 0;
}
</style>
</head>

<body>

<div class="card">
    <h1>Gratte pour dÃ©couvrir</h1>

    <div class="grid">
        <!-- Ligne gagnante = FILLE -->
        <div class="cell"><div class="content">ðŸ’™</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ’™</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ©·</div><canvas></canvas></div>

        <div class="cell"><div class="content">ðŸ©·</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ©·</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ’™</div><canvas></canvas></div>

        <div class="cell"><div class="content">ðŸ©·</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ’™</div><canvas></canvas></div>
        <div class="cell"><div class="content">ðŸ’™</div><canvas></canvas></div>
    </div>
    <div class="instruction">
        <p>3 ðŸ©· alignÃ©s, c'est une fille</p>
        <p>3 ðŸ’™ alignÃ©s, c'est un GarÃ§on </p>
    </div>
</div>


<script>
document.querySelectorAll("canvas").forEach(canvas => {
    const ctx = canvas.getContext("2d");
    const cell = canvas.parentElement;

    canvas.width = cell.offsetWidth;
    canvas.height = cell.offsetHeight;

    // couche Ã  gratter
    ctx.fillStyle = "#bfbfbf";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    let isDrawing = false;

    function scratch(x, y) {
        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        ctx.arc(x, y, 15, 0, Math.PI * 2);
        ctx.fill();
    }

    canvas.addEventListener("mousedown", () => isDrawing = true);
    canvas.addEventListener("mouseup", () => isDrawing = false);
    canvas.addEventListener("mousemove", e => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        scratch(e.clientX - rect.left, e.clientY - rect.top);
    });

    // mobile
    canvas.addEventListener("touchmove", e => {
        e.preventDefault();
        const rect = canvas.getBoundingClientRect();
        const touch = e.touches[0];
        scratch(touch.clientX - rect.left, touch.clientY - rect.top);
    }, { passive: false });
});
</script>

</body>
</html>
